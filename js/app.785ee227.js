(function(t){function a(a){for(var o,i,c=a[0],s=a[1],l=a[2],d=0,p=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);u&&u(a);while(p.length)p.shift()();return r.push.apply(r,l||[]),e()}function e(){for(var t,a=0;a<r.length;a++){for(var e=r[a],o=!0,c=1;c<e.length;c++){var s=e[c];0!==n[s]&&(o=!1)}o&&(r.splice(a--,1),t=i(i.s=e[0]))}return t}var o={},n={app:0},r=[];function i(a){if(o[a])return o[a].exports;var e=o[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=t,i.c=o,i.d=function(t,a,e){i.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,a){if(1&a&&(t=i(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var o in t)i.d(e,o,function(a){return t[a]}.bind(null,o));return e},i.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(a,"a",a),a},i.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},i.p="/practica/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=a,c=c.slice();for(var l=0;l<c.length;l++)a(c[l]);var u=s;r.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"034f":function(t,a,e){"use strict";var o=e("85ec"),n=e.n(o);n.a},"56d7":function(t,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d");var o=e("2b0e"),n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},r=[],i={name:"App",components:{}},c=i,s=(e("034f"),e("2877")),l=Object(s["a"])(c,n,r,!1,null,null,null),u=l.exports,d=e("8c4f"),p=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrapper fadeInDown"},[e("div",{attrs:{id:"formContent"}},[e("input",{ref:"login",staticClass:"fadeIn second",attrs:{type:"text",name:"login",placeholder:"login"}}),e("input",{ref:"password",staticClass:"fadeIn third",attrs:{type:"password",name:"login",placeholder:"password"}}),e("button",{staticClass:"fadeIn fourth",on:{click:t.login}},[t._v("Log In")])])])},f=[],m=(e("99af"),e("bc3a")),v=e.n(m),h={name:"Login",methods:{login:function(){var t=this,a=this.$refs.login.value,e=this.$refs.password.value;v()({method:"get",url:"".concat("","/practica/index.php/welcome/usuario?id=").concat(a,"&passwd=").concat(e),headers:{"content-type":"application/json","access-control-allow-origin":"*"}}).then((function(e){e.data.length>0?t.$router.push("/carros/".concat(a)):(alert("Usuario o contraeña incorrecta"),t.$refs.login.value="",t.$refs.password.value="")}))}}},b=h,g=(e("de0d"),Object(s["a"])(b,p,f,!1,null,"60e7c191",null)),w=g.exports,y=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("ul",{staticClass:"nav justify-content-center"},[e("li",{staticClass:"nav-item"},[e("button",{staticClass:"nav-link active btn btn-primary",on:{click:t.nuevo}},[t._v("Nuevo")])]),e("li",{staticClass:"nav-item"},[e("button",{staticClass:"nav-link active btn btn-warning",on:{click:t.cerrarSesion}},[t._v("Cerrar sesión")])])]),e("br"),e("div",{attrs:{id:"mapid"}}),e("ModalConfirmarEliminar",{ref:"ModalConfirmarEliminar"}),e("ModalEditar",{ref:"ModalEditar"}),e("ModalInsertar",{ref:"ModalInsertar"})],1)},C=[],_=e("196b"),$=e.n(_),j=e("1157"),x=e.n(j),M=e("e11e"),E=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("b-modal",{attrs:{id:"modal-eliminar","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v(" Eliminar auto ")]},proxy:!0}])},[t._v(" ¿Está seguro de eliminar? "),e("br"),e("br"),e("button",{staticClass:"btn btn-danger",on:{click:t.aceptar}},[t._v("Eliminar")])])},k=[],O={name:"ModalConfirmarEliminar",methods:{show:function(t){var a=this;a.obj=t,this.$bvModal.show("modal-eliminar")},hide:function(){this.$bvModal.hide("modal-1")},aceptar:function(){var t=this;v()({method:"get",url:"".concat("","/practica/index.php/welcome/deleteCarro?&id=").concat(t.obj.id),headers:{"content-type":"application/json","access-control-allow-origin":"*"}}).then((function(a){console.log(a),t.$router.go()}))}},data:function(){return{obj:null}}},I=O,P=Object(s["a"])(I,E,k,!1,null,"34ab584c",null),S=P.exports,L=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("b-modal",{attrs:{id:"modal-editar","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v(" Editar auto ")]},proxy:!0}])},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-3"},[t._v("Placas:")]),e("div",{staticClass:"col-9"},[e("input",{ref:"placas",staticClass:"form-control",attrs:{id:"placas",placeholder:"Placas",type:"text"}})]),e("br")]),e("br"),e("div",{staticClass:"row"},[e("div",{staticClass:"col-3"},[t._v("Latitud:")]),e("div",{staticClass:"col-9"},[e("input",{ref:"latitud",staticClass:"form-control",attrs:{id:"latitud",placeholder:"Latitud",type:"number",step:"any"}})])]),e("br"),e("div",{staticClass:"row"},[e("div",{staticClass:"col-3"},[t._v("Longitud:")]),e("div",{staticClass:"col-9"},[e("input",{ref:"longitud",staticClass:"form-control",attrs:{id:"longitud",placeholder:"Longitud",type:"number",step:"any"}})])]),e("button",{staticClass:"btn btn-success",on:{click:t.aceptar}},[t._v("Aceptar")])])},T=[],A={name:"ModalEditar",methods:{show:function(t){var a=this;this.$bvModal.show("modal-editar"),setTimeout((function(){a.obj=t,document.getElementById("placas").value=t.placas,document.getElementById("latitud").value=t.lat,document.getElementById("longitud").value=t.lon}),500)},hide:function(){this.$bvModal.hide("modal-1")},aceptar:function(){if(console.log(this.obj),""===this.$refs.placas.value||""===this.$refs.latitud.value||""===this.$refs.longitud.value)alert("Por favor llene todos los campos");else{var t=this;v()({method:"get",url:"".concat("","/practica/index.php/welcome/updateCarro?placas=").concat(t.$refs.placas.value,"&lat=").concat(t.$refs.latitud.value,"&lon=").concat(t.$refs.longitud.value,"&id=").concat(t.obj.id),headers:{"content-type":"application/json","access-control-allow-origin":"*"}}).then((function(a){console.log(a),t.$router.go()}))}}},data:function(){return{obj:null}}},z=A,J=Object(s["a"])(z,L,T,!1,null,"77ec8608",null),Z=J.exports,B=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("b-modal",{attrs:{id:"modal-1","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v(" Agregar nuevo auto ")]},proxy:!0}])},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-3"},[t._v("Placas:")]),e("div",{staticClass:"col-9"},[e("input",{ref:"placas",staticClass:"form-control",attrs:{placeholder:"Placas",type:"text"}})]),e("br")]),e("br"),e("div",{staticClass:"row"},[e("div",{staticClass:"col-3"},[t._v("Latitud:")]),e("div",{staticClass:"col-9"},[e("input",{ref:"latitud",staticClass:"form-control",attrs:{placeholder:"Latitud",type:"number",step:"any"}})])]),e("br"),e("div",{staticClass:"row"},[e("div",{staticClass:"col-3"},[t._v("Longitud:")]),e("div",{staticClass:"col-9"},[e("input",{ref:"longitud",staticClass:"form-control",attrs:{placeholder:"Longitud",type:"number",step:"any"}})])]),e("button",{staticClass:"btn btn-success",on:{click:t.aceptar}},[t._v("Aceptar")])])},N=[],D={name:"ModalInsertar",data:function(){return{data:0}},methods:{show:function(t){this.id=t,this.$bvModal.show("modal-1")},hide:function(){this.$bvModal.hide("modal-1")},aceptar:function(){if(console.log("clic"),""===this.$refs.placas.value||""===this.$refs.latitud.value||""===this.$refs.longitud.value)alert("Por favor llene todos los campos");else{var t=this;$()({method:"get",url:"".concat("","/practica/index.php/welcome/nuevoCarro?placas=").concat(t.$refs.placas.value,"&lat=").concat(t.$refs.latitud.value,"&lon=").concat(t.$refs.longitud.value,"&usuario=").concat(t.id),headers:{"content-type":"application/json","access-control-allow-origin":"*"}}).then((function(a){console.log(a),t.$router.go()}))}}}},W=D,F=Object(s["a"])(W,B,N,!1,null,"73cc85a3",null),q=F.exports,G={name:"Carros",components:{ModalInsertar:q,ModalEditar:Z,ModalConfirmarEliminar:S},mounted:function(){x()(document).ready((function(){}));var t=M["map"]("mapid",{center:[18.4496568,-97.5066007],zoom:13});M["tileLayer"]("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,accessToken:"pk.eyJ1Ijoiam9zbSIsImEiOiJjaWlydjFvc24wMDl5dm5tNmxqcWFoZ3N5In0.ZRCa4WnO-tZ_JjlZHPw22Q"}).addTo(t),console.log(t),this.id=this.$route.params.id;var a=this;$()({method:"get",url:"".concat("","/practica/index.php/welcome/carros/").concat(a.id),headers:{"content-type":"application/json","access-control-allow-origin":"*"}}).then((function(e){var o=e.data;a.carros=o;for(var n=function(e){var n="<div>Placa: ".concat(o[e].placas,"</div>"),r='<button id="eliminar-'.concat(e,'" class="btn btn-danger">Eliminar</button>'),c='<button id="editar-'.concat(e,'" class="btn btn-warning">Editar</button>');i=M["marker"]([o[e].lat,o[e].lon]).addTo(t),i.bindPopup("".concat(n).concat(r).concat(c)).openPopup(),x()("#eliminar-".concat(e)).on("click",(function(){a.eliminar(e)})),x()("#editar-".concat(e)).on("click",(function(){a.editar(e)})),x()(".leaflet-marker-icon").on("click",(function(){a.asignacion()}))},r=0;r<o.length;r++){var i;n(r)}}))},data:function(){return{id:0,carros:[]}},methods:{asignacion:function(){console.log("ASIGNADO");var t=this;setTimeout((function(){for(var a=function(a){x()("#eliminar-".concat(a)).on("click",(function(){t.eliminar(a)})),x()("#editar-".concat(a)).on("click",(function(){t.editar(a)}))},e=0;e<t.carros.length;e++)a(e)}),500)},cerrarSesion:function(){this.$router.push("/")},eliminar:function(t){this.$refs.ModalConfirmarEliminar.show(this.carros[t])},editar:function(t){this.$refs.ModalEditar.show(this.carros[t])},nuevo:function(){this.$refs.ModalInsertar.show(this.id)}}},H=G,Q=(e("7a7b"),Object(s["a"])(H,y,C,!1,null,"4d934c1e",null)),R=Q.exports,U=(e("f9e3"),e("5f5b")),Y=e("b1e0");o["default"].use(d["a"]),o["default"].use(U["a"]),o["default"].use(Y["a"]);var K=new d["a"]({routes:[{path:"/",component:w},{path:"/carros/:id",component:R}]});new o["default"]({render:function(t){return t(u)},router:K}).$mount("#app")},"6bd8":function(t,a,e){},"7a7b":function(t,a,e){"use strict";var o=e("b3b1"),n=e.n(o);n.a},"85ec":function(t,a,e){},b3b1:function(t,a,e){},de0d:function(t,a,e){"use strict";var o=e("6bd8"),n=e.n(o);n.a}});
//# sourceMappingURL=app.785ee227.js.map